<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1070px" preserveAspectRatio="none" style="width:1526px;height:1070px;" version="1.1" viewBox="0 0 1526 1070" width="1526px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wq3j7gvr6u9t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[deda91f2bf9c11baeebd5a13a4635f8d]
entity pgb--><path d="M33,962 C33,942 145,942 145,942 C145,942 257,942 257,962 L257,1026.875 C257,1046.875 145,1046.875 145,1046.875 C145,1046.875 33,1046.875 33,1026.875 L33,962 " fill="#ADD8E6" filter="url(#f1wq3j7gvr6u9t)" style="stroke: #000000; stroke-width: 3.0;"/><path d="M33,962 C33,982 145,982 145,982 C145,982 257,982 257,962 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="184" x="53" y="1027.1094">balancedb</text><!--MD5=[f6bfcafd820c9a76ef45106837fbc975]
entity pgt--><path d="M12,432 C12,412 155,412 155,412 C155,412 298,412 298,432 L298,496.875 C298,516.875 155,516.875 155,516.875 C155,516.875 12,516.875 12,496.875 L12,432 " fill="#ADD8E6" filter="url(#f1wq3j7gvr6u9t)" style="stroke: #000000; stroke-width: 3.0;"/><path d="M12,432 C12,452 155,452 155,452 C155,452 298,452 298,432 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="246" x="32" y="497.1094">transactiondb</text><!--MD5=[6d2a6cf4a8ae9c6575d0c7e23e26fe98]
entity ka--><rect fill="#D3D3D3" filter="url(#f1wq3j7gvr6u9t)" height="86.875" style="stroke: #A80036; stroke-width: 3.0;" width="144" x="973" y="686"/><rect fill="#D3D3D3" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="963" y="696"/><rect fill="#D3D3D3" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="963" y="752.875"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="104" x="993" y="743.1094">Kafka</text><!--MD5=[6377be883f12643b62e189b60fe92e84]
entity ch--><rect fill="#FFFF00" filter="url(#f1wq3j7gvr6u9t)" height="86.875" style="stroke: #A80036; stroke-width: 3.0;" width="370" x="860" y="951"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="850" y="961"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="850" y="1017.875"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="330" x="880" y="1008.1094">Command handler</text><!--MD5=[dedfc5a9d92a37b91d8f948a8cc861cf]
entity ge--><rect fill="#FFFF00" filter="url(#f1wq3j7gvr6u9t)" height="86.875" style="stroke: #A80036; stroke-width: 3.0;" width="364" x="863" y="421"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="853" y="431"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="853" y="487.875"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="324" x="883" y="478.1094">GraphQL endpoint</text><!--MD5=[b9586600103814a499497f8f31890a4f]
entity fs--><rect fill="#90EE90" filter="url(#f1wq3j7gvr6u9t)" height="86.875" style="stroke: #A80036; stroke-width: 3.0;" width="322" x="190" y="63"/><rect fill="#90EE90" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="180" y="73"/><rect fill="#90EE90" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="180" y="129.875"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="282" x="210" y="120.1094">Frontend server</text><!--MD5=[979c31051cf8d07bdf927ed864b836ec]
entity cl--><ellipse cx="1045" cy="36" fill="#FFFFFF" filter="url(#f1wq3j7gvr6u9t)" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M1045,52 L1045,106 M1019,68 L1071,68 M1045,106 L1019,136 M1045,106 L1071,136 " fill="none" filter="url(#f1wq3j7gvr6u9t)" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="98" x="996" y="187.1094">client</text><!--MD5=[d7b1477d0b58b9e0987107755f33c763]
link pgb to ch--><path d="M267.962,994 C417.5834,994 672.074,994 848.8666,994 " fill="none" id="pgb-ch" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="859.338,994,841.338,986,849.338,994,841.338,1002,859.338,994" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="257.1658,994,275.1658,1002,267.1658,994,275.1658,986,257.1658,994" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="300" x="523.5" y="883.1094">keep track which</text><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="530" x="293.5" y="929.9844">messages have been handled</text><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="324" x="499.5" y="976.8594">keep the balances</text><!--MD5=[b9b9809166d72ca299d479f7d1e803bd]
link pgt to ge--><path d="M308.9992,464 C459.5968,464 689.38,464 852.079,464 " fill="none" id="pgt-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="862.6972,464,844.6972,456,852.6972,464,844.6972,472,862.6972,464" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="298.983,464,316.983,472,308.983,464,316.983,456,298.983,464" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="492" x="334.5" y="401.1094">stores/queries transactions</text><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="256" x="570.5" y="447.9844">stores profiles</text><!--MD5=[c3297a582d3a89a465219808e842a826]
link fs to cl--><path d="M512.8362,106 C663.8566,106 881.0516,106 985.0536,106 " fill="none" id="fs-&gt;cl" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="995.3612,106,977.3612,98,985.3612,106,977.3612,114,995.3612,106" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="410" x="549" y="89.1094">provides frontend code</text><!--MD5=[f3db19617524fa2b1675bee631d7f11c]
link cl to ge--><path d="M1045,206.5774 C1045,272.6118 1045,356.3942 1045,410.1096 " fill="none" id="cl-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1045,420.4378,1053,402.4378,1045,410.4378,1037,402.4378,1045,420.4378" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1045,196.3386,1037,214.3386,1045,206.3386,1053,214.3386,1045,196.3386" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="390" x="1047" y="295.1094">exchange information</text><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="264" x="1110" y="341.9844">using GraphQL</text><!--MD5=[78aeed854374c05e45ee4143ccdfb700]
link ka to ch--><path d="M1045,782.374 C1045,828.466 1045,894.7166 1045,940.7674 " fill="none" id="ka-ch" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1045,950.8518,1053,932.8518,1045,940.8518,1037,932.8518,1045,950.8518" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1045,772.1666,1037,790.1666,1045,782.1666,1053,790.1666,1045,772.1666" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="456" x="1047" y="871.1094">exchange data using avro</text><!--MD5=[4c72282c5405b3efc9f1d632d9d9d02c]
link ge to ka--><path d="M1045,517.374 C1045,563.466 1045,629.7166 1045,675.7674 " fill="none" id="ge-ka" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1045,685.8518,1053,667.8518,1045,675.8518,1037,667.8518,1045,685.8518" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1045,507.1666,1037,525.1666,1045,517.1666,1053,525.1666,1045,507.1666" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="456" x="1047" y="615.1094">exchange data using avro</text><!--MD5=[96879901b1870d456defb9b801679d00]
@startuml
skinparam defaultFontName Roboto
skinparam defaultFontSize 20

database balancedb as pgb #LightBlue
database transactiondb as pgt #LightBlue
[Kafka] as ka #LightGrey
[Command handler] as ch #Yellow
[GraphQL endpoint] as ge #Yellow
[Frontend server] as fs #LightGreen
actor client as cl #White

pgb <-> ch : keep track which\rmessages have been handled\nkeep the balances
pgt <-> ge : stores/queries transactions\rstores profiles
fs -> cl : provides frontend code
cl <- -> ge : exchange information\nusing GraphQL
ch <-up-> ka : exchange data using avro
ge <- -> ka : exchange data using avro


@enduml

PlantUML version 1.2019.10(Fri Sep 13 22:53:03 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.3+12-b304.56
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>