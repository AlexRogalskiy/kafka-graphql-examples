<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1174px" preserveAspectRatio="none" style="width:1920px;height:1174px;" version="1.1" viewBox="0 0 1920 1174" width="1920px" zoomAndPan="magnify"><defs/><g><!--MD5=[deda91f2bf9c11baeebd5a13a4635f8d]
entity pgb--><path d="M34,1052 C34,1032 175,1032 175,1032 C175,1032 316,1032 316,1052 L316,1130.9375 C316,1150.9375 175,1150.9375 175,1150.9375 C175,1150.9375 34,1150.9375 34,1130.9375 L34,1052 " fill="#ADD8E6" style="stroke: #000000; stroke-width: 3.0;"/><path d="M34,1052 C34,1072 175,1072 175,1072 C175,1072 316,1072 316,1052 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="242" x="54" y="1128.2422">balancedb</text><!--MD5=[f6bfcafd820c9a76ef45106837fbc975]
entity pgt--><path d="M12,466 C12,446 191,446 191,446 C191,446 370,446 370,466 L370,544.9375 C370,564.9375 191,564.9375 191,564.9375 C191,564.9375 12,564.9375 12,544.9375 L12,466 " fill="#ADD8E6" style="stroke: #000000; stroke-width: 3.0;"/><path d="M12,466 C12,486 191,486 191,486 C191,486 370,486 370,466 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="318" x="32" y="542.2422">transactiondb</text><!--MD5=[6d2a6cf4a8ae9c6575d0c7e23e26fe98]
entity ka--><rect fill="#D3D3D3" height="100.9375" style="stroke: #A80036; stroke-width: 3.0;" width="172" x="1221" y="748"/><rect fill="#D3D3D3" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1211" y="758"/><rect fill="#D3D3D3" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1211" y="828.9375"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="132" x="1241" y="816.2422">Kafka</text><!--MD5=[6377be883f12643b62e189b60fe92e84]
entity ch--><rect fill="#FFFF00" height="100.9375" style="stroke: #A80036; stroke-width: 3.0;" width="466" x="1074" y="1041"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1064" y="1051"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1064" y="1121.9375"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="426" x="1094" y="1109.2422">Command handler</text><!--MD5=[dedfc5a9d92a37b91d8f948a8cc861cf]
entity ge--><rect fill="#FFFF00" height="100.9375" style="stroke: #A80036; stroke-width: 3.0;" width="458" x="1078" y="455"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1068" y="465"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1068" y="535.9375"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="418" x="1098" y="523.2422">GraphQL endpoint</text><!--MD5=[b9586600103814a499497f8f31890a4f]
entity fs--><rect fill="#90EE90" height="100.9375" style="stroke: #A80036; stroke-width: 3.0;" width="402" x="232" y="59"/><rect fill="#90EE90" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="222" y="69"/><rect fill="#90EE90" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="222" y="139.9375"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="362" x="252" y="127.2422">Frontend server</text><!--MD5=[979c31051cf8d07bdf927ed864b836ec]
entity cl--><ellipse cx="1307" cy="36" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M1307,52 L1307,106 M1281,68 L1333,68 M1307,106 L1281,136 M1307,106 L1333,136 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="124" x="1245" y="190.2422">client</text><!--MD5=[d7b1477d0b58b9e0987107755f33c763]
link pgb to ch--><path d="M326.2188,1091 C514.6534,1091 839.0772,1091 1062.8974,1091 " fill="none" id="pgb-ch" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1073.4786,1091,1055.4786,1083,1063.4786,1091,1055.4786,1099,1073.4786,1091" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="316.0798,1091,334.0798,1099,326.0798,1091,334.0798,1083,316.0798,1091" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="388" x="648" y="949.2422">keep track which</text><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="682" x="354" y="1010.1797">messages have been handled</text><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="416" x="620" y="1071.1172">keep the balances</text><!--MD5=[b9b9809166d72ca299d479f7d1e803bd]
link pgt to ge--><path d="M380.5464,505 C570.0636,505 862.1146,505 1067.548,505 " fill="none" id="pgt-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1077.8772,505,1059.8772,497,1067.8772,505,1059.8772,513,1077.8772,505" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="370.3048,505,388.3048,513,380.3048,505,388.3048,497,370.3048,505" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="632" x="408" y="425.2422">stores/queries transactions</text><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="330" x="710" y="486.1797">stores profiles</text><!--MD5=[c3297a582d3a89a465219808e842a826]
link fs to cl--><path d="M634.0618,109 C825.2666,109 1102.5362,109 1233.3854,109 " fill="none" id="fs-&gt;cl" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1244.0686,109,1226.0686,101,1234.0686,109,1226.0686,117,1244.0686,109" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="536" x="671.5" y="89.2422">provides frontend code</text><!--MD5=[f3db19617524fa2b1675bee631d7f11c]
link cl to ge--><path d="M1307,212.6804 C1307,286.3386 1307,382.721 1307,444.266 " fill="none" id="cl-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1307,454.5864,1315,436.5864,1307,444.5864,1299,436.5864,1307,454.5864" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1307,202.345,1299,220.345,1307,212.345,1315,220.345,1307,202.345" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="502" x="1309" y="312.2422">exchange information</text><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="340" x="1390" y="373.1797">using GraphQL</text><!--MD5=[78aeed854374c05e45ee4143ccdfb700]
link ka to ch--><path d="M1307,858.7772 C1307,908.91 1307,979.704 1307,1029.9198 " fill="none" id="ka-ch" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1307,1040.3082,1315,1022.3082,1307,1030.3082,1299,1022.3082,1307,1040.3082" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1307,848.3684,1299,866.3684,1307,858.3684,1315,866.3684,1307,848.3684" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="588" x="1309" y="958.2422">exchange data using avro</text><!--MD5=[4c72282c5405b3efc9f1d632d9d9d02c]
link ge to ka--><path d="M1307,565.7772 C1307,615.91 1307,686.704 1307,736.9198 " fill="none" id="ge-ka" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1307,747.3082,1315,729.3082,1307,737.3082,1299,729.3082,1307,747.3082" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1307,555.3684,1299,573.3684,1307,565.3684,1315,573.3684,1307,555.3684" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="588" x="1309" y="674.2422">exchange data using avro</text><!--MD5=[caa621a9d6586d2ef20b4574cc597242]
@startuml
skinparam shadowing false
skinparam defaultFontName Roboto
skinparam defaultFontSize 26

database balancedb as pgb #LightBlue
database transactiondb as pgt #LightBlue
[Kafka] as ka #LightGrey
[Command handler] as ch #Yellow
[GraphQL endpoint] as ge #Yellow
[Frontend server] as fs #LightGreen
actor client as cl #White

pgb <-> ch : keep track which\rmessages have been handled\nkeep the balances
pgt <-> ge : stores/queries transactions\rstores profiles
fs -> cl : provides frontend code
cl <- -> ge : exchange information\nusing GraphQL
ch <-up-> ka : exchange data using avro
ge <- -> ka : exchange data using avro


@enduml

PlantUML version 1.2019.10(Fri Sep 13 22:53:03 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+10-b304.69
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>