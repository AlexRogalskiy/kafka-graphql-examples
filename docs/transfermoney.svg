<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1166px" preserveAspectRatio="none" style="width:1936px;height:1166px;" version="1.1" viewBox="0 0 1936 1166" width="1936px" zoomAndPan="magnify"><defs><filter height="300%" id="f8rowykvb0wey" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="70" x2="70" y1="186.875" y2="978.75"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="769" x2="769" y1="186.875" y2="978.75"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="1085" x2="1085" y1="186.875" y2="978.75"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="1755" x2="1755" y1="186.875" y2="978.75"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="98" x="16" y="177.1094">client</text><ellipse cx="71" cy="26" fill="#FFFFFF" filter="url(#f8rowykvb0wey)" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M71,42 L71,96 M45,58 L97,58 M71,96 L45,126 M71,96 L97,126 " fill="none" filter="url(#f8rowykvb0wey)" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="98" x="16" y="1013.8594">client</text><ellipse cx="71" cy="1043.625" fill="#FFFFFF" filter="url(#f8rowykvb0wey)" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M71,1059.625 L71,1113.625 M45,1075.625 L97,1075.625 M71,1113.625 L45,1143.625 M71,1113.625 L97,1143.625 " fill="none" filter="url(#f8rowykvb0wey)" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="324" x="601" y="177.1094">GraphQL endpoint</text><ellipse cx="769" cy="108" fill="#FFFF00" filter="url(#f8rowykvb0wey)" rx="24" ry="24" style="stroke: #A80036; stroke-width: 4.0;"/><line style="stroke: #A80036; stroke-width: 4.0;" x1="745" x2="793" y1="136" y2="136"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="324" x="601" y="1013.8594">GraphQL endpoint</text><ellipse cx="769" cy="1055.625" fill="#FFFF00" filter="url(#f8rowykvb0wey)" rx="24" ry="24" style="stroke: #A80036; stroke-width: 4.0;"/><line style="stroke: #A80036; stroke-width: 4.0;" x1="745" x2="793" y1="1083.625" y2="1083.625"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="246" x="957" y="177.1094">transactiondb</text><path d="M1050,68 C1050,48 1086,48 1086,48 C1086,48 1122,48 1122,68 L1122,120 C1122,140 1086,140 1086,140 C1086,140 1050,140 1050,120 L1050,68 " fill="#ADD8E6" filter="url(#f8rowykvb0wey)" style="stroke: #000000; stroke-width: 3.0;"/><path d="M1050,68 C1050,88 1086,88 1086,88 C1086,88 1122,88 1122,68 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="246" x="957" y="1013.8594">transactiondb</text><path d="M1050,1043.625 C1050,1023.625 1086,1023.625 1086,1023.625 C1086,1023.625 1122,1023.625 1122,1043.625 L1122,1095.625 C1122,1115.625 1086,1115.625 1086,1115.625 C1086,1115.625 1050,1115.625 1050,1095.625 L1050,1043.625 " fill="#ADD8E6" filter="url(#f8rowykvb0wey)" style="stroke: #000000; stroke-width: 3.0;"/><path d="M1050,1043.625 C1050,1063.625 1086,1063.625 1086,1063.625 C1086,1063.625 1122,1063.625 1122,1043.625 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="104" x="1697" y="177.1094">Kafka</text><ellipse cx="1755" cy="108" fill="#D3D3D3" filter="url(#f8rowykvb0wey)" rx="24" ry="24" style="stroke: #A80036; stroke-width: 4.0;"/><line style="stroke: #A80036; stroke-width: 4.0;" x1="1731" x2="1779" y1="136" y2="136"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="104" x="1697" y="1013.8594">Kafka</text><ellipse cx="1755" cy="1055.625" fill="#D3D3D3" filter="url(#f8rowykvb0wey)" rx="24" ry="24" style="stroke: #A80036; stroke-width: 4.0;"/><line style="stroke: #A80036; stroke-width: 4.0;" x1="1731" x2="1779" y1="1083.625" y2="1083.625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="71" x2="155" y1="265.75" y2="265.75"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="155" x2="155" y1="265.75" y2="291.75"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="73" x2="155" y1="291.75" y2="291.75"/><polygon fill="#A80036" points="93,283.75,73,291.75,93,299.75,85,291.75" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="588" x="85" y="251.9844">Fill in amount, to, and description</text><polygon fill="#A80036" points="745,358.625,765,366.625,745,374.625,753,366.625" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="71" x2="757" y1="366.625" y2="366.625"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="650" x="85" y="352.8594">Subscribe to money_transfer stream</text><polygon fill="#A80036" points="1731,433.5,1751,441.5,1731,449.5,1739,441.5" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="769" x2="1743" y1="441.5" y2="441.5"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="576" x="783" y="427.7344">Create a ConfirmMoneyTransfer</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1755" x2="1839" y1="516.375" y2="516.375"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1839" x2="1839" y1="516.375" y2="542.375"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1757" x2="1839" y1="542.375" y2="542.375"/><polygon fill="#A80036" points="1777,534.375,1757,542.375,1777,550.375,1769,542.375" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="144" x="1769" y="502.6094">Process</text><polygon fill="#A80036" points="1731,609.25,1751,617.25,1731,625.25,1739,617.25" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="769" x2="1743" y1="617.25" y2="617.25"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="266" x="783" y="603.4844">Polling records</text><polygon fill="#A80036" points="791,684.125,771,692.125,791,700.125,783,692.125" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="779" x2="1753" y1="692.125" y2="692.125"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="938" x="803" y="678.3594">Sends records one being a MoneyTransferConfirmed</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="769" x2="853" y1="767" y2="767"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="853" x2="853" y1="767" y2="793"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="771" x2="853" y1="793" y2="793"/><polygon fill="#A80036" points="791,785,771,793,791,801,783,793" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="232" x="783" y="753.2344">Filter on uuid</text><polygon fill="#A80036" points="93,859.875,73,867.875,93,875.875,85,867.875" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="81" x2="767" y1="867.875" y2="867.875"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="482" x="105" y="854.1094">Send MoneyTransferResult</text><polygon fill="#A80036" points="745,934.75,765,942.75,745,950.75,753,942.75" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="71" x2="757" y1="942.75" y2="942.75"/><text fill="#000000" font-family="Roboto" font-size="40" lengthAdjust="spacingAndGlyphs" textLength="584" x="85" y="928.9844">End subscription money_transfer</text><!--MD5=[4236b595ba419ba8b9f4b5f8496df07e]
@startuml
skinparam defaultFontName Roboto
skinparam defaultFontSize 20

actor client as cl #White
entity "GraphQL endpoint" as ge #Yellow
database transactiondb as pgt #LightBlue
entity "Kafka" as ka #LightGrey

cl -> cl : Fill in amount, to, and description
cl -> ge : Subscribe to money_transfer stream
ge -> ka : Create a ConfirmMoneyTransfer
ka -> ka : Process
ge -> ka : Polling records
ka -> ge : Sends records one being a MoneyTransferConfirmed
ge -> ge : Filter on uuid
ge -> cl : Send MoneyTransferResult
cl -> ge : End subscription money_transfer

@enduml

PlantUML version 1.2019.10(Fri Sep 13 22:53:03 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.3+12-b304.56
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>